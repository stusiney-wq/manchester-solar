/* ===============================
   Manchester.solar — v3 minimal system
   No inline CSS • Mobile-first • A11y-first
   =============================== */

/* Root tokens */
:root{
  --bg: #ffffff;
  --bg-alt: #f7fafc;
  --text: #0f172a;
  --text-muted:#6b7280;
  --brand:#16a34a;          /* solar green */
  --brand-ink:#065f46;
  --accent:#fbbf24;         /* solar yellow */
  --border:#e5e7eb;
  --card:#ffffff;

  --max: 1120px;
  --radius: 14px;

  --space-1: .25rem;
  --space-2: .5rem;
  --space-3: .75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-7: 2rem;
  --space-8: 3rem;
  --space-9: 4rem;

  --shadow-1: 0 1px 2px rgba(0,0,0,.05);
  --shadow-2: 0 6px 24px rgba(0,0,0,.08);

  --focus: 2px solid #111827;
}

/* Base */
* { box-sizing: border-box; }
html,body { height: 100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  color: var(--text);
  background: var(--bg);
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
a{ color: var(--brand-ink); text-decoration: none; }
a:hover{ text-decoration: underline; }
img{ max-width: 100%; height: auto; }

/* Utilities */
.container{ width:100%; max-width: var(--max); margin:0 auto; padding: 0 var(--space-4); }
.section{ padding: var(--space-9) 0; }
.section-alt{ background: var(--bg-alt); }
.section-header{ text-align: center; margin-bottom: var(--space-7); }
.section-intro{ color: var(--text-muted); max-width: 68ch; margin: .5rem auto 0; }
.section-divider-accent{
  width: 72px; height: 4px; background: var(--accent);
  border-radius: 999px; margin: var(--space-4) auto var(--space-5);
}
.grid{ display: grid; gap: var(--space-6); }
.grid-2{ grid-template-columns: 1fr; }
.grid-3{ grid-template-columns: 1fr; }
@media (min-width: 760px){
  .grid-2{ grid-template-columns: repeat(2,1fr); }
  .grid-3{ grid-template-columns: repeat(3,1fr); }
}
.hidden{ display:none !important; }
.muted{ color: var(--text-muted); }
.note{
  background: #fff; border: 1px solid var(--border); border-radius: var(--radius);
  padding: var(--space-5); box-shadow: var(--shadow-1);
}
.sr-only{ position:absolute; left:-9999px; }

/* Layout rhythm + sector primitives */
.flow > * + * { margin-block-start: var(--flow-space, var(--space-5)); }
.stack { display:flex; flex-direction:column; gap: var(--gap, var(--space-6)); }
.cluster { display:flex; flex-wrap:wrap; gap: var(--gap, var(--space-3)); align-items:center; }

/* Switcher: responsive auto-columns for cards/forms */
.switcher { display:flex; flex-wrap:wrap; gap: var(--space-6); }
.switcher > * { flex: 1 1 24rem; }

/* Section density modifiers */
.section--tight { padding-block: var(--space-7); }
.section--normal { padding-block: var(--space-9); }
.section--loose { padding-block: calc(var(--space-9) + 1rem); }

/* Sector toggle */
.sector-toggle {
  display:flex; gap: .5rem; border:1px solid var(--border);
  border-radius: 12px; padding: .25rem; width:max-content; margin-inline:auto;
}
.sector-toggle [data-sector]{
  appearance:none; border:0; background:transparent; padding:.5rem .9rem;
  border-radius:10px; font-weight:700; cursor:pointer;
}
.sector-toggle [data-sector].is-active{ background: var(--bg-alt); }

/* Header / Nav */
.site-header{
  position: sticky; top:0; z-index: 50; background: #ffffffd6; backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--border);
}
.header-inner{ display:flex; align-items:center; justify-content: space-between; min-height: 64px; }
.logo img{ display:block; }
.nav-toggle{
  appearance: none; background: transparent; border: 1px solid var(--border);
  border-radius: 10px; padding: .5rem .75rem; font-weight: 600;
}
.menu{ list-style:none; display:flex; gap: var(--space-4); margin:0; padding:0; }
.menu a{ padding: .5rem .75rem; border-radius: 10px; display:block; }
.menu a:hover{ background: var(--bg-alt); text-decoration: none; }
.btn-small{ padding:.5rem .75rem; background: var(--brand); color:#fff; border-radius: 10px; }
.btn-small:hover{ filter: brightness(.95); }

@media (max-width: 860px){
  .menu{ position: absolute; right: var(--space-4); top: 64px; flex-direction: column;
    background:#fff; border:1px solid var(--border); border-radius: 12px; padding: var(--space-4);
    width: min(92vw, 360px); box-shadow: var(--shadow-2); display:none;
  }
  .menu.open{ display:flex; }
}

/* Hero */
.hero{
  padding: var(--space-9) 0 var(--space-8);
  background: radial-gradient(1200px 400px at 50% -60%, #ecfccb 0, #fff 60%);
  border-bottom: 1px solid var(--border);
}
.hero-badges{ display:flex; flex-wrap:wrap; gap: var(--space-3); margin-bottom: var(--space-5); }
.hero-badge{
  background:#fff; border:1px solid var(--border); padding:.4rem .7rem; border-radius:999px;
  font-size: .875rem; color:#111827;
}
.hero-title{
  font-size: clamp(1.75rem, 3.2vw + 1rem, 3rem);
  line-height: 1.15; margin: 0 0 var(--space-4);
}
.hero-subtext{ max-width: 60ch; color: var(--text-muted); margin: 0 0 var(--space-5); }
.hero-cta{ display:flex; gap: var(--space-3); flex-wrap: wrap; }

/* Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
  padding: .875rem 1.1rem; border-radius: 12px; border:1px solid transparent;
  font-weight: 700; text-decoration: none;
}
.btn-large{ padding: 1rem 1.25rem; font-size: 1.05rem; }
.btn:hover{ text-decoration: none; }
.btn-ghost{ background: transparent; border-color: var(--border); color: #0f172a; }
.btn-ghost:hover{ background: var(--bg-alt); }
.btn-primary,.btn{ background: var(--brand); color:#fff; }
.btn:hover.btn-primary,.btn:hover{ filter: brightness(.96); }

/* Stats */
.stats .stat{
  background: var(--card); border:1px solid var(--border); border-radius: var(--radius);
  padding: var(--space-6); text-align:center; box-shadow: var(--shadow-1);
}
.stat-number{ font-size: 2rem; font-weight: 800; }
.stat-label{ color: var(--text-muted); margin-top: .25rem; }

/* Cards / Services */
.cards .card,
.switcher .card{
  background: var(--card); border:1px solid var(--border); border-radius: var(--radius);
  padding: var(--space-6); box-shadow: var(--shadow-1);
}
.cards .card h3, .switcher .card h3{ margin-top:0; margin-bottom:.4rem; }
.cards .card p, .switcher .card p{ color: var(--text-muted); }

/* How-to list */
.how-steps{ counter-reset: step; list-style:none; margin:0; padding:0; display:grid; gap: var(--space-6); }
.how-steps li{ background:#fff; border:1px solid var(--border); border-radius: var(--radius); padding: var(--space-6); box-shadow: var(--shadow-1); }
.how-steps li h3{ margin:.25rem 0 .35rem; }
.how-steps li::before{
  counter-increment: step; content: counter(step);
  display:inline-grid; place-items:center; width:2rem; height:2rem; border-radius:999px;
  background: var(--accent); font-weight: 800; margin-bottom: .5rem;
}

/* FAQ */
.faq details{
  background:#fff; border:1px solid var(--border); border-radius: var(--radius);
  padding: var(--space-5); box-shadow: var(--shadow-1);
}
.faq details + details{ margin-top: var(--space-4); }
.faq summary{ cursor: pointer; font-weight: 700; }
.faq p{ margin: .5rem 0 0; color: var(--text-muted); }

/* Form */
.quote{
  background:#fff; border:1px solid var(--border); border-radius: var(--radius);
  padding: var(--space-6); box-shadow: var(--shadow-1);
}
.quote label span, .quote legend{ display:block; font-weight:600; margin-bottom:.35rem; }
.quote input[type="text"],
.quote input[type="email"],
.quote input[type="tel"],
.quote input[type="number"],
.quote select,
.quote textarea{
  width:100%; padding:.8rem .9rem; border-radius:12px; border:1px solid var(--border); background:#fff;
}
.quote input:focus,
.quote select:focus,
.quote textarea:focus{ outline: var(--focus); outline-offset: 2px; }
.quote .radio-group{ display:flex; gap: var(--space-5); align-items:center; }
.quote .full{ grid-column: 1 / -1; }
.form-actions{ display:flex; gap: var(--space-4); align-items: center; margin-top: var(--space-5); flex-wrap: wrap; }
.form-reassurance{ color: var(--text-muted); }
.microcopy{ color: var(--text-muted); font-size:.9rem; }

@media (min-width: 760px){
  .quote .grid-2{ grid-template-columns: repeat(2,1fr); }
}

/* Footer */
.footer{
  border-top:1px solid var(--border); background:#fff;
  padding: var(--space-8) 0 var(--space-8);
}
.footer p{ margin:0 0 var(--space-4); color:#111827; }
.footer-badges{ list-style:none; display:flex; gap: var(--space-3); padding:0; margin: 0 0 var(--space-3); color: var(--text-muted); }
.footer small{ color: var(--text-muted); }

/* Accessibility tweaks */
summary::-webkit-details-marker{ display:none; }
summary::after{ content:"+"; float:right; font-weight:800; }
details[open] summary::after{ content:"–"; }
.step-number {
  display: inline-grid;
  place-items: center;
  width: 2rem;
  height: 2rem;
  border-radius: 999px;
  background: var(--accent);
  font-weight: 800;
  margin-bottom: var(--space-4);
}